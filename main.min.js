const NUM_WORK_IMAGES = 9, NUM_WORSE_IMAGES = 11, IMG_OVERLAY_HANG_AMT = 0, WORK_CHANGE_TIMING = 1e3, BETTER_CHANGE_TIMING = 150, WORSE_CHANGE_TIMING = 150, SKEW_AMT = 150; function shuffle(e) { for (let t = e.length - 1; t > 0; t--) { let a = Math.floor(Math.random() * (t + 1));[e[t], e[a]] = [e[a], e[t]] } return e } function stringToElement(e) { var t = document.createElement("div"); return t.innerHTML = e.trim(), t.firstChild } function elementToString(e) { var t = document.createElement("div"); return t.appendChild(e), t.innerHTML } function showWorkStep() { for (var e, t, a, o, s = chance.integer({ min: 0, max: workImages.length - 1 }); "number" == typeof lastImgInd && lastImgInd == s;)s = chance.integer({ min: 0, max: workImages.length - 1 }); lastImgInd = s; var n = workImages[s], r = chance.floating({ min: .25, max: .6 }); window.innerWidth < window.innerHeight ? (o = Math.floor(r * window.innerWidth), a = Math.floor(n.height / n.width * o)) : (a = Math.floor(r * window.innerHeight), o = Math.floor(n.width / n.height * a)), window.innerWidth < o && (o = window.innerWidth, a = Math.floor(n.height / n.width * o)), window.innerHeight < a && (a = window.innerHeight, o = Math.floor(n.width / n.height * a)); overlayImgEl.style.top = chance.integer({ min: 0, max: window.innerHeight - a }) + "px", overlayImgEl.style.left = chance.integer({ min: 0, max: window.innerWidth - o }) + "px"; overlayImgEl.style.height = a + "px", overlayImgEl.style.width = o + "px", overlayImgEl.src = n.src, overlayImgEl.classList.remove("hidden") } function stopShowWork() { clearInterval(showWorkInterval), overlayImgEl.classList.add("hidden") } function startShowWork() { showWorkInterval && clearInterval(showWorkInterval), showWorkStep(), showWorkInterval = setInterval(showWorkStep, 1e3) } function initWork() { var e = document.getElementsByClassName("work")[0]; e.addEventListener("mouseenter", startShowWork), e.addEventListener("mouseleave", stopShowWork) } function betterStep() { 0 == betterToUse.length && (betterToUse = shuffle([...Array(9).keys()])); var e, t, a, o, s = workImages[betterToUse.splice(0, 1)[0]], n = chance.floating({ min: .25, max: .6 }); window.innerWidth < window.innerHeight ? (o = Math.floor(n * window.innerWidth), a = Math.floor(s.height / s.width * o)) : (a = Math.floor(n * window.innerHeight), o = Math.floor(s.width / s.height * a)), window.innerWidth < o && (o = window.innerWidth, a = Math.floor(s.height / s.width * o)), window.innerHeight < a && (a = window.innerHeight, o = Math.floor(s.width / s.height * a)); var r = document.createElement("img"); r.classList.add("overlayImg"), r.id = "better_" + betterNumShown, r.zIndex = 100 + betterNumShown, betterNumShown++; r.style.top = chance.integer({ min: 0, max: window.innerHeight - a }) + "px", r.style.left = chance.integer({ min: 0, max: window.innerWidth - o }) + "px"; r.style.height = a + "px", r.style.width = o + "px", r.src = s.src, document.body.appendChild(r) } function betterStopStep(e) { var t = document.getElementById("better_" + e); t && t.parentNode.removeChild(t) } function stopBetter() { clearInterval(betterInterval); for (var e = 0; e < betterNumShown; e++)betterStopStep(e) } function startBetter() { betterNumShown = 0, betterToUse = shuffle([...Array(9).keys()]), betterInterval && clearInterval(betterInterval), betterStep(), betterInterval = setInterval(betterStep, 150) } function initBetter() { var e = document.getElementsByClassName("better")[0]; e.addEventListener("mouseenter", startBetter), e.addEventListener("mouseleave", stopBetter) } var lastImgInd, overlayImgEl, showWorkInterval, betterInterval, betterToUse, betterNumShown, numSpans, worseEl, worseImagesInterval, savedBB = !1, allowWorseStop = !1, worseMouseOut = !1; function skewSpanEl(e) { window.requestAnimationFrame(function () { var t = document.getElementById("animSpan_" + e); t.style.transform = "rotate3d(0,0,1," + chance.integer({ min: -90, max: 90 }) + "deg)", t.style.webkitTransform = "rotate3d(0,0,1," + chance.integer({ min: -90, max: 90 }) + "deg)" }) } function skewAllSpans() { for (var e = 0; e < numSpans; e++)skewSpanEl(e) } function worseImagesStep() { for (var e, t, a = chance.integer({ min: 0, max: worseImages.length - 1 }); "number" == typeof lastImgInd && lastImgInd == a;)a = chance.integer({ min: 0, max: worseImages.length - 1 }); lastImgInd = a; var o = worseImages[a], s = chance.floating({ min: 1.1, max: 1.5 }); chance.bool() ? (e = window.innerHeight * s, t = Math.floor(o.width / o.height * e)) : (t = window.innerWidth * s, e = Math.floor(o.height / o.width * t)), overlayImgEl.style.top = -(e - window.innerHeight) / 2 + "px", overlayImgEl.style.left = -(t - window.innerWidth) / 2 + "px", overlayImgEl.style.height = e + "px", overlayImgEl.style.width = t + "px", overlayImgEl.src = o.src, overlayImgEl.classList.remove("hidden") } function startWorse() { savedBB || (document.getElementById("info").classList.add("fixWorse"), savedBB = worseEl.getBoundingClientRect(), document.getElementById("info").classList.add("fixWorse"), worseImagesInterval || (worseImagesStep(), worseImagesInterval = setInterval(worseImagesStep, 150)), skewAllSpans(), worseMouseOut = !1, allowWorseStop = !1, setTimeout(function () { allowWorseStop = !0 }, 100)) } function stopWorse(e) { if (savedBB && (worseMouseOut = e.clientX < savedBB.left || e.clientX > savedBB.left + savedBB.width || e.clientY < savedBB.top || e.clientY > savedBB.top + savedBB.height) && allowWorseStop) { document.getElementById("info").classList.remove("fixWorse"), clearInterval(worseImagesInterval), worseImagesInterval = !1, overlayImgEl.classList.add("hidden"); for (var t = 0; t < numSpans; t++)document.getElementById("animSpan_" + t).style = null; setTimeout(function () { savedBB = !1 }, 50) } } function initWorse() { (worseEl = document.getElementsByClassName("worse")[0]).addEventListener("mouseenter", startWorse), document.body.addEventListener("mousemove", stopWorse) } var workImages = [], worseImages = [], workImagesUrl = ["https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d87424e16e4e76e1c7ba_0.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d8755b39c172585c103a_1.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d87525a3dae36940bebc_2.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d874a775aaa15e93ad4e_3.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d875bb4b01ca190ce27f_4.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d875aaac5831eede8b77_5.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d875d64e14f6e51cadba_6.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d8755b39c17d965c103b_7.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6d87552a5b1d975ee9592_8.png"], worseImagesUrl = ["https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db30b51823854bb0e46b_0.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db2fe43b6b37e68b033b_1.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db30f825c0cec9086f11_2.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db30ccc685447a8710dd_3.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db3025a3daa7e940eed8_4.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db30076a337f52afb541_5.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db30133ca738831eaccd_6.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db304cd6e25fc2afcecb_7.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db30133ca71d0e1eacce_8.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db30eb475a6b4a0a009d_9.png", "https://uploads-ssl.webflow.com/63a4ab99799105459ca0c822/63b6db302568c0ffc7ed6306_10.png"]; function preloadImages() { for (var e = 0; e < 9; e++) { var t = new Image; t.onload = function () { workImages.push(this) }, t.src = workImagesUrl[e] } for (var e = 0; e < 11; e++) { var t = new Image; t.onload = function () { worseImages.push(this) }, t.src = worseImagesUrl[e] } } function init() { preloadImages(), overlayImgEl = document.getElementById("overlayImg"), initWorse(), initWork(), initBetter() } init();